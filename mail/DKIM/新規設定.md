2024年2月からGmailのメール送信者ガイドラインが変更されるにあたり、DKIMの設定を行いました。
DKIMの役割や設定手順についてまとめました。

## DKIM（DomainKeys Identified Mail）の役割

DKIM （DomainKeys Identified Mail） とは、正しい発行元メールサーバから送信された、改ざんされていないメールであると証明する電子署名方式の送信ドメイン認証技術です。
設定されていることにより送信メールの信頼度が上がり、受信側で迷惑メール扱いされにくくなるという利点があります。

### DKIMとSPFの違い
SPFは、DNSに登録されたレコードに基づいて、送信元のIPアドレスを検証し、メール送信元の正当性をチェックします。
DKIMはメールが送信元ドメインの所有者によって作成されたもので改ざんを受けていないことを証明するのに対して、SPFは送信元ドメインの所有者が許可したIPからメールが送信されていることを証明しており、それぞれ異なる観点からメールの正当性を検証していることになっています。

## DKIMの大まかな設定手順
①ソフトウェアの設定
OpenDKIMなどのサービスを使い、鍵ペアの作成とレコードの生成を行います。
②DNSにDKIMレコードを追加
生成したDKIMレコードをDNSサーバーに追加し、受信サーバー側が参照できる状態にします。
③設定確認
DKIMレコードが正しく設定されているかどうかdigやnslookupコマンドで確認する。
④テストメールの送信
Gmailなどに実際にメールを送付し、DKIM認証がpassの状態になっているかを確認する。


## 参考URL
https://blastmail.jp/function/6.html
https://blastengine.jp/blog_content/dkim_basic/
